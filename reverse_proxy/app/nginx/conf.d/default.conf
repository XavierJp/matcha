server {
    listen 80;
    server_name localhost;
    server_tokens off;
    gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml font/eot font/ttf font/woff font/woff2 image/svg image/x-icon image/png;

    location /sockjs-node {
        proxy_pass http://ui:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "Upgrade";
        proxy_set_header Host $host;
        proxy_set_header Accept-Encoding gzip;
        proxy_set_header Strict-Transport-Security "max-age:31536000;includeSubdomains";
        proxy_set_header X-Frame-Options SAMEORIGIN;
        proxy_set_header X-Content-Type-Options nosniff,
        proxy_set_header Referrer-Policy no-referrer;
    }

    include /etc/nginx/conf.d/locations/*.inc;
}
